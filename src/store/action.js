import axios from 'axios'
import qs from 'qs'
export default {
    // again({commit},data){
    //     axios({
    //         method:'post',
    //         url:'http://39.104.113.112:8796/wechatUser/findDevbyUser',
    //         data:qs.stringify({
    //             weChatUsePhone:sessionStorage.getItem("weChatUsePhone")
    //         })
    //     }).then(res=>{
    //         commit('LIST',res.data.s)
    //     })
    // }
//     again({commit},data){
//     let that=this;
//      this.$axios
//         .post(
//         that.httpUrl+"Datapoints/getData",
//         this.$qs.stringify({
//             devId:data,
//           })
//         )
//         .then(message => {
//           console.log(JSON.parse((message.data.errMsg).slice(6)))
//           let messData=JSON.parse((message.data.errMsg).slice(6))
//           var lating;
//           var lnging;
//          for(let i=0;i<messData.data.datastreams.length;i++){
//              console.log(messData.data.datastreams[i].id);
//             switch (messData.data.datastreams[i].id){
//                case '2003':that.infow.devLongitude=messData.data.datastreams[i].datapoints[0].value;
//                         lnging=(messData.data.datastreams[i].datapoints[0].value)/100000
          
// 				break;
//                case '2002':that.infow.devLatitude=messData.data.datastreams[i].datapoints[0].value;
//                         lating=(messData.data.datastreams[i].datapoints[0].value)/100000
//                 //   la
//                     break;

//                     default:break;
//                 }
//           }
//         var map = new BMap.Map("allmap");
//         setTimeout(function(){
//            if(lnging==0||lating==0){
//                 lnging=120.2282128307
//                 lating=30.2693046269
//             }
//             var ggPoint = new BMap.Point(lnging,lating); 
//             var convertor = new BMap.Convertor();
//             var pointArr = [];
//             pointArr.push(ggPoint);
//             convertor.translate(pointArr, 1, 5, function (data){
//             if(data.status === 0) {
//               var marker = new BMap.Marker(data.points[0]);
//              var label = new BMap.Label("",{offset:new BMap.Size(20,-10)});
//               map.setCenter(data.points[0]);
//               var a;
//               var b;
//                 a=data.points[0].lng
//                 b=data.points[0].lat
//                 that.$axios
//                 .post(
//                 that.httpUrl+"Datapoints/findByDevId",
//                 that.$qs.stringify({
//                         devId:that.$route.query.id
//                     })
//                 )
//                 .then(message => {
//                     console.log(me)
//                   that.infow.address=message.data.detail.address
//                   that.infow.number=message.data.detail.number

//                 var point = new BMap.Point(that.menga,that.mengb)
//                 map.centerAndZoom(point, 16);
//                 var geoc = new BMap.Geocoder(); 
//                 geoc.getLocation(point, function(rs){
//                   var addComp = rs.addressComponents;
//                   console.log(addComp)
//                   that.newdirectory=addComp.province + "" + addComp.city + "" + addComp.district + "" + addComp.street + "" + addComp.streetNumber
//                   console.log(that.newdirectory)
//                   console.log(that.infow.number)
//                   if(that.infow.number=="1"){
//                     that.psya=that.infow.address
//                   }else if(that.infow.number==0||that.infow.number==''){
//                     that.psya=that.newdirectory
//                   }
//               }); 
//             })
//         }
//     })
            
// })
        
//     }
}